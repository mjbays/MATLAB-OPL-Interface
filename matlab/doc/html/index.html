<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>UsingDoxygenwithMatlab: MATLAB-OPL Index Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UsingDoxygenwithMatlab
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MATLAB-OPL Index Page </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>The purpose of this software is to provide an interface between MATLAB and OPL in order to facilitate easy data exchange and testing between the two programs. This software should help expand the user's ability to prototype and test models in OPL.</p>
<h1><a class="anchor" id="Authors"></a>
Authors</h1>
<p>Michael Yahknis (NREIP Internship program) Matthew Bays <a href="#" onclick="location.href='mai'+'lto:'+'mat'+'th'+'ew.'+'ba'+'ys@'+'na'+'vy.'+'mi'+'l'; return false;">matth<span style="display: none;">.nosp@m.</span>ew.b<span style="display: none;">.nosp@m.</span>ays@n<span style="display: none;">.nosp@m.</span>avy.<span style="display: none;">.nosp@m.</span>mil</a> Naval Surface Warface Center Panama City Division Created: July. 2014 Modified: March 2016 This program comes with ABSOLUTELY NO WARRANTY, without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
<p>Distribution Statement A: Approved for public relase; distribution is unlimited.</p>
<h1><a class="anchor" id="Supported"></a>
Operating Systems</h1>
<p>Any that support installation of MATLAB, OPL, and the Java Virtual Machine</p>
<h1><a class="anchor" id="Critical"></a>
Notes</h1>
<p>There are currently two versions of the API which are very similar, but not compatible with each other.</p>
<p>If you are looking for just the general MATLAB-OPL interface, use these files: <a class="el" href="call_o_p_l_8m.html">callOPL.m</a> <a class="el" href="import_o_p_l_params_8m.html">importOPLParams.m</a> <a class="el" href="_o_p_l___parameter_8m.html" title="Class for use in converting MATLAB parameters to OPL parameters. ">OPL_Parameter.m</a></p>
<p>This set of files will be referred to as VERSION2 from now on.</p>
<p>If you are looking to implement the mine-field-optimization project, use these files: javatest.m <a class="el" href="import_o_p_l_params_8m.html">importOPLParams.m</a> placement/placement_mines.m OPLload.java (version that came with the mine-field-optimization project)</p>
<p>This set of files will be referred to as VERSION1 from now on.</p>
<p>In terms of functionality, the files correspond as javatest.m &ndash;&gt; <a class="el" href="call_o_p_l_8m.html">callOPL.m</a> placement.m &ndash;&gt; OPL_Paramter.m <a class="el" href="import_o_p_l_params_8m.html">importOPLParams.m</a> &ndash;&gt; <a class="el" href="import_mat_dat_8m.html">importMatDat.m</a></p>
<p>Unless you are working on the mine-field-optimization project, you should be using VERSION2.</p>
<h1><a class="anchor" id="Dependencies"></a>
Dependencies</h1>
<p>The API consists of two Java source files: OPLload.java and ElmNames.java. However, MATLAB uses the compiled (*.class) versions of these files.</p>
<p>The main Matlab function is javatest.m, which in turn calls placement.m and <a class="el" href="import_mat_dat_8m.html">importMatDat.m</a>. (VERSION1)</p>
<p>The main Matlab function is <a class="el" href="call_o_p_l_8m.html">callOPL.m</a>, which calls <a class="el" href="import_o_p_l_params_8m.html">importOPLParams.m</a>, which in turn uses a list of <a class="el" href="class_o_p_l___parameter.html" title="Class for use in converting MATLAB parameters to OPL parameters. ">OPL_Parameter</a> objects as inputs. (VERSION2).</p>
<p>All Matlab files must be placed in the same directory. The Java and OPL files can be placed in an arbitrary place on the system as long as the location is specified in the MATLAB code in the manner instructed in the INSTALLATION section.</p>
<p>OPL must be installed for this API to work.</p>
<h1><a class="anchor" id="Installation"></a>
Installation</h1>
<p>Please see the README for installation steps.</p>
<h1><a class="anchor" id="How"></a>
To Run the API</h1>
<p><a class="el" href="call_o_p_l_8m.html">callOPL.m</a> takes arguments:</p>
<p>modFilePath: The filepath relative to the MATLAB working directory of the OPL model file srcDatFilePath: The filepath relative to the MATLAB working directory of the OPL data file OPL_ParameterArray: Array of <a class="el" href="class_o_p_l___parameter.html" title="Class for use in converting MATLAB parameters to OPL parameters. ">OPL_Parameter</a> objects containing the name, type, and value of runtime parameters you wish to add to the *.dat file numDecVars: The number of decision variables you wish to export decVarNames: A cell array containing the names of the decision variables you wish to export decVarInds: A cell array containing in each index another cell array that contains the names of the indices of decision variables</p>
<p>To run <a class="el" href="call_o_p_l_8m.html">callOPL.m</a>,</p>
<ol type="1">
<li>Specify in string variables modFilePath and srcDatFilePath the relative path of the OPL model and data files respectively. In development, these were located in either the working directory or one level down from the working directory in a separate folder.</li>
<li>Specify in OPL_ParameterArray variables you want written to the copy of the *.dat file that is created at runtime (the software creates a copy of the original *.dat file so the original data is unaffected but new values can be added and overwritten multiple times).</li>
<li>The main purpose of <a class="el" href="import_o_p_l_params_8m.html">importOPLParams.m</a> is process and store the values of the variables you want written to the new *.dat file at runtime. The function takes in an array of OPL_Parameters, puts them into the correct format, creates a copy of the *.dat file specified, and writes the values to the new *.dat file. Only 1D and 2D numeric arrays, 2D tuples, single values, and strings are handled automatically in terms of formatting the values correctly for OPL. If you need a special format outside of these, write the variables to a string in the format needed, and then just put that string in an <a class="el" href="class_o_p_l___parameter.html" title="Class for use in converting MATLAB parameters to OPL parameters. ">OPL_Parameter</a> object. <a class="el" href="import_o_p_l_params_8m.html">importOPLParams.m</a> will take care of the rest.</li>
<li>Finally, you must specify for javatest.m the names of your decision variables and their corresponding indices. To do this, first specify the number of decision variables in the numDecVars variable. Then create two cell arrays, decVarNames and decVarInds. decVarNames stores the names of your decision variables in the format of {'nameOfDecVar1', 'nameOfDecVar2', ...}. decVarInds then stores the names of the indices of your decision variable. The syntax for decVarInds is { {'index1ForDecVar1', 'index2forDecVar1'}, {'index1forDecVar2'}, ... }. To illustrate this procedure, consider the following example: Let's say we had a decision variable in OPL called 'Inside' and 'Inside' was a 2D array indexed by named integer ranges 'Products' and 'Periods'. If this was the only decision variable we wanted to export back to MATLAB, we would write decVarNames as {'Inside'} and decVarInds as {{'Products','Periods'}}. Note that decVarInds is a cell array of cell arrays.</li>
</ol>
<p>The software currently only supports single value, 1D, and 2D arrays of float or int type values as the decision variable types. Note that if your decision variable is a single value, you must still specify an index for it in the MATLAB code. This index can just be an integer index from somewhere else in your model. Whatever index you specify will be ignored at runtime for single values; this workaround is simply to avoid a more complex workaround in the Java code. If you wish to avoid confusion, perhaps the best strategy is to index your single value with an integer of 1 (thus technically making it a 1x1 array).</p>
<p>Once this is all complete, you can go ahead and run <a class="el" href="call_o_p_l_8m.html">callOPL.m</a> and the OPL solution should be returned in the MATLAB struct soln. This structure is displayed in the command window at runtime. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
